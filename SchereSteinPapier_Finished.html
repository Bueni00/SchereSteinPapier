<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schere-Stein-Papier</title>
    <style>
        body {
            font-family: fantasy;
            margin: 0;
            padding: 0;
            background-color:rgb(17, 46, 1);
        }
        header {
            color:rgb(205, 128, 12);
            padding: 20px;
            text-align: center;

        }
    </style>
</head>
<body>
    <header>
  <h1>Schere-Stein-Papier</h1>
  <h1>Wähle erst die Figur aus und dann drücke auf "Starte das Spiel", Viel Glück!</h1>
    <h1>Triff deine Wahl</h1>
    
    <button class="wahl-btn" onclick="spiel_figur_spieler('Schere', this)">Schere</button>
    <button class="wahl-btn" onclick="spiel_figur_spieler('Stein', this)">Stein</button>
    <button class="wahl-btn" onclick="spiel_figur_spieler('Papier', this)">Papier</button>

    <h1>Start:</h1>
    <button onclick="checkReady();"> Starte das Spiel</button>
   

    <div id="ergebnis"></div>

  <script>
//Schere Stein Papier WPU
//Schere Stein Papier WPU
let spiel = ["Schere", "Stein", "Papier"]; // Array für die Figuren erstellt
let figur_wahl;                                        //Globale definition der Variabel für den Spieler
let figur_random2;                                      //Globale definition der Variabel für den PC

function spiel_random(array){                                   //Funktion zum randomisen welche Figur rauskommen soll
    let index = Math.floor(Math.random() * array.length);       //mit math.random() random eine Figur aus dem Array rausgeben
    return array[index];
}

function spiel_figur_spieler(figur, gekButton) {                                //Funktion mit der, der Spieler seine Figur wählen kann

    const alleKnoepfe = document.querySelectorAll('.wahl-btn');

  // 2. Gehe jeden dieser Knöpfe durch und setze die Hintergrundfarbe zurück.
    alleKnoepfe.forEach(knopf => {
        knopf.style.backgroundColor = ''; // Leerer String setzt es auf den Standardwert zurück
    });

  // 3. Setze JETZT die Farbe nur für den Knopf, der geklickt wurde.
    gekButton.style.backgroundColor = 'green';

 figur_wahl = figur;                        //Mit prompt befehl die eingabe bestimmen

}
//function spiel_figur_random() {                                 //Funktion um die random Figur für den Gegner(PC) zu bestimmen
//figur_random2 = spiel_random(spiel);

//}

function checkReady() {
    if (figur_wahl) {
        spiel_main();
    } else {document.getElementById("ergebnis").innerHTML = "Bitte wähle zuerst Schere, Stein oder Papier!";

        }
    }

function spiel_main() {                                          //Das Main spiel mit den regeln usw
    figur_random2 = spiel_random(spiel);
    console.log("Beide user ready, main funktion startet");
    console.log("Die User Figur ist:", figur_wahl);
    console.log("Die PC Figur ist:", figur_random2);
    let ergebnisText = "Der Gegner hat " + figur_random2 + " gewählt.<br>";

    if (figur_wahl === figur_random2) {                          // mit if/else die Spielregeln durchgesetzt, hier wenn die Spielerfigur = Pc figur dann unentschieden
        ergebnisText += "Unentschieden\n";                              
    } else if (                                                 
    (figur_wahl === "Schere" && figur_random2 === "Papier") ||     //Hier die definitionen der Regeln um zu gewinnen
    (figur_wahl === "Stein" && figur_random2 === "Schere") ||
    (figur_wahl === "Papier" && figur_random2 === "Stein")
    ) {
        ergebnisText += "Du hast gewonnen\n";
    } else {
        ergebnisText += "Du hast verloren\n";                       //Sollte keins von oben zutreffen, hat der Spieler verloren.
    }
           

    document.getElementById("ergebnis").innerHTML = ergebnisText;

}

  </script>
</body>
</html>